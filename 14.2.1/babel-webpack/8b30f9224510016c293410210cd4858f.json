{"ast":null,"code":"import _asyncToGenerator from \"/home/charles/Desktop/todo-list/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport axios from 'axios';\nlet TodosComponent = class TodosComponent {\n  constructor() {\n    this.todos = [];\n    this.inputTodo = '';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.todos = (yield axios.get('http://localhost:8000/', {\n        headers: {\n          'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n        }\n      })).data;\n    })();\n  }\n\n  toggleDone(id) {\n    const todo = this.todos.find(item => item.id === id);\n\n    if (todo && todo.Completed != null) {\n      todo.Completed = !todo?.Completed;\n    }\n\n    axios.put(`http://localhost:8000/${id}/`, todo);\n  }\n\n  deleteTodo(id) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false\n    });\n    axios.post('http://localhost:8000/create', {\n      Title: this.inputTodo,\n      Description: '',\n      Date: '2000-01-01'\n    }, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n    this.inputTodo = '';\n  }\n\n};\nTodosComponent = __decorate([Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css']\n})], TodosComponent);\nexport { TodosComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAQA,IAAaC,cAAc,GAA3B,MAAaA,cAAb,CAA2B;EAKzBC;IAJA,aAAgB,EAAhB;IAEA,iBAAoB,EAApB;EAEgB;;EAEVC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,KAAL,GAAa,OAAOJ,KAAK,CAACK,GAAN,CAAU,wBAAV,EAAoC;QACtDC,OAAO,EAAE;UACP,eACE;QAFK;MAD6C,CAApC,CAAP,EAKTC,IALJ;IADY;EAOb;;EACDC,UAAU,CAACC,EAAD,EAAuB;IAC/B,MAAMC,IAAI,GAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBC,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYA,EAApC,CAAb;;IACA,IAAGC,IAAI,IAAIA,IAAI,CAACG,SAAL,IAAkB,IAA7B,EAAmC;MACjCH,IAAI,CAACG,SAAL,GAAiB,CAACH,IAAI,EAAEG,SAAxB;IACD;;IAEDb,KAAK,CAACc,GAAN,CAAW,yBAAyBL,EAAE,GAAtC,EAA2CC,IAA3C;EACD;;EACDK,UAAU,CAACN,EAAD,EAAuB;IAC/B,KAAKL,KAAL,GAAa,KAAKA,KAAL,CAAWY,MAAX,CAAkB,CAACN,IAAD,EAAOO,CAAP,KAAaP,IAAI,CAACD,EAAL,KAAYA,EAA3C,CAAb;IACAT,KAAK,CAACkB,MAAN,CAAa,kCAAkCT,EAA/C,EAAmD;MACjDH,OAAO,EAAE;QACP,eACE;MAFK;IADwC,CAAnD;EAMD;;EAEDa,OAAO;IACL,KAAKf,KAAL,CAAWgB,IAAX,CAAgB;MACdX,EAAE,EAAEY,SADU;MAEdC,KAAK,EAAE,KAAKC,SAFE;MAGdV,SAAS,EAAE;IAHG,CAAhB;IAKAb,KAAK,CAACwB,IAAN,CACE,8BADF,EAEE;MACEF,KAAK,EAAE,KAAKC,SADd;MAEEE,WAAW,EAAE,EAFf;MAGEC,IAAI,EAAE;IAHR,CAFF,EAOE;MACEpB,OAAO,EAAE;QACP,eACE;MAFK;IADX,CAPF;IAcA,KAAKiB,SAAL,GAAiB,EAAjB;EACD;;AAtDwB,CAA3B;AAAatB,cAAc,eAL1BF,SAAS,CAAC;EACT4B,QAAQ,EAAE,WADD;EAETC,WAAW,EAAE,wBAFJ;EAGTC,SAAS,EAAE,CAAC,uBAAD;AAHF,CAAD,CAKiB,GAAd5B,cAAc,CAAd;SAAAA","names":["Component","axios","TodosComponent","constructor","ngOnInit","todos","get","headers","data","toggleDone","id","todo","find","item","Completed","put","deleteTodo","filter","i","delete","addTodo","push","undefined","Title","inputTodo","post","Description","Date","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/charles/Desktop/todo-list/Front/src/app/components/todos/todos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport axios from 'axios';\nimport { Todo } from '../../models/Todo';\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css'],\n})\nexport class TodosComponent implements OnInit {\n  todos: Todo[] = [];\n\n  inputTodo: string = '';\n\n  constructor() {}\n\n  async ngOnInit() {\n    this.todos = (await axios.get('http://localhost:8000/', {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    })).data;\n  }\n  toggleDone(id: Number | undefined) {\n    const todo = this.todos.find(item => item.id === id);\n    if(todo && todo.Completed != null) {\n      todo.Completed = !todo?.Completed\n    }\n    \n    axios.put (`http://localhost:8000/${id}/`, todo)\n  }\n  deleteTodo(id: Number | undefined) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false,\n    });\n    axios.post(\n      'http://localhost:8000/create',\n      {\n        Title: this.inputTodo,\n        Description: '',\n        Date: '2000-01-01',\n      },\n      {\n        headers: {\n          'X-CSRFTOKEN':\n            '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n        },\n      }\n    );\n    this.inputTodo = '';\n  }\n}\n"]},"metadata":{},"sourceType":"module"}