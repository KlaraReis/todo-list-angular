{"ast":null,"code":"import _asyncToGenerator from \"/home/charles/Desktop/todo-list/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\n\nfunction TodosComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function TodosComponent_div_4_Template_div_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const todo_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleDone(todo_r1.id));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TodosComponent_div_4_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const todo_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteTodo(todo_r1.id));\n    });\n    i0.ɵɵtext(6, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const todo_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵclassMapInterpolate1(\"todo \", todo_r1.Completed ? \"done\" : \"\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(todo_r1.Title);\n  }\n}\n\nexport class TodosComponent {\n  constructor() {\n    this.todos = [];\n    this.inputTodo = '';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.todos = (yield axios.get('http://localhost:8000/', {\n        headers: {\n          'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n        }\n      })).data;\n    })();\n  }\n\n  toggleDone(id) {\n    const todo = this.todos.find(item => item.id === id);\n\n    if (todo && todo.Completed != null) {\n      todo.Completed = !todo?.Completed;\n    }\n\n    axios.put(`http://localhost:8000/${id}/`, todo);\n  }\n\n  deleteTodo(id) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false\n    });\n    axios.post('http://localhost:8000/create', {\n      Title: this.inputTodo,\n      Description: '',\n      Date: '2000-01-01'\n    }, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n    this.inputTodo = '';\n  }\n\n}\n\nTodosComponent.ɵfac = function TodosComponent_Factory(t) {\n  return new (t || TodosComponent)();\n};\n\nTodosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodosComponent,\n  selectors: [[\"app-todos\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"todos\"], [3, \"submit\"], [\"type\", \"text\", \"name\", \" inputTodo\", \"placeholder\", \" - Enter todo...\", 1, \"todo-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \" submit\", \"value\", \" Add Todo\", 1, \"todo-submit\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"id\"], [1, \"content\", 3, \"click\"], [1, \"delete\", 3, \"click\"]],\n  template: function TodosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"submit\", function TodosComponent_Template_form_submit_1_listener() {\n        return ctx.addTodo();\n      });\n      i0.ɵɵelementStart(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function TodosComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.inputTodo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, TodosComponent_div_4_Template, 7, 5, \"div\", 4);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputTodo);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.todos);\n    }\n  },\n  dependencies: [i1.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n  styles: [\".todo[_ngcontent-%COMP%] {\\n    display: flex;\\n    padding: 15px 15px;\\n    background-color: #fff;\\n    border-bottom: 1px solid #DDD;\\n}\\n.todo[_ngcontent-%COMP%]:nth-child(even){\\n    background-color: #EEE;\\n}\\n.todo[_ngcontent-%COMP%]:last-of-type{\\n    border-bottom: 0;\\n}\\n.todo.id[_ngcontent-%COMP%]{\\n    flex:1 1 50px;\\n}\\n.todo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n    flex:1 1 100%\\n}\\n.todo.done[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{\\n    text-decoration: line-through;\\n}\\n.todo-input[_ngcontent-%COMP%] {\\n    display: block;\\n    width: 20px;\\n    padding: 10px 15px;\\n    -webkit-appearance: none;\\n            appearance: none;\\n    border: none;\\n    background-color: #f3f3f3;\\n    margin-top: 25px;\\n    font-size: 20px;\\n    outline: none;\\n}\\n.todo-submit[_ngcontent-%COMP%]{\\n    display: block;\\n    width: 110%;\\n    max-width: 200px;\\n    -webkit-appearance: none;\\n            appearance: none;\\n    border: none;\\n    outline: none;\\n    background: none;\\n    background-color: #FE4880;\\n    color:#fff;\\n    margin: 15px auto;\\n\\n    padding: 15px 15px;\\n    font-size: 18px;\\n    font-weight: 700;\\n   \\n\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvZG9zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0Qiw2QkFBNkI7QUFDakM7QUFDQTtJQUNJLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksZ0JBQWdCO0FBQ3BCO0FBRUE7SUFDSSxhQUFhO0FBQ2pCO0FBQ0E7SUFDSTtBQUNKO0FBQ0E7SUFDSSw2QkFBNkI7QUFDakM7QUFDQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLHdCQUFnQjtZQUFoQixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGFBQWE7QUFDakI7QUFDQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLHdCQUFnQjtZQUFoQixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIseUJBQXlCO0lBQ3pCLFVBQVU7SUFDVixpQkFBaUI7O0lBRWpCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZ0JBQWdCOzs7QUFHcEIiLCJmaWxlIjoidG9kb3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b2RvIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBhZGRpbmc6IDE1cHggMTVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREREO1xufVxuLnRvZG86bnRoLWNoaWxkKGV2ZW4pe1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG59XG4udG9kbzpsYXN0LW9mLXR5cGV7XG4gICAgYm9yZGVyLWJvdHRvbTogMDtcbn1cblxuLnRvZG8uaWR7XG4gICAgZmxleDoxIDEgNTBweDtcbn1cbi50b2RvIC5jb250ZW50IHtcbiAgICBmbGV4OjEgMSAxMDAlXG59XG4udG9kby5kb25lIC5jb250ZW50e1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xufVxuLnRvZG8taW5wdXQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmM2YzO1xuICAgIG1hcmdpbi10b3A6IDI1cHg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG59XG4udG9kby1zdWJtaXR7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDExMCU7XG4gICAgbWF4LXdpZHRoOiAyMDBweDtcbiAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZFNDg4MDtcbiAgICBjb2xvcjojZmZmO1xuICAgIG1hcmdpbjogMTVweCBhdXRvO1xuXG4gICAgcGFkZGluZzogMTVweCAxNXB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgXG5cbn1cbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;ICWIC,4BAAiG,CAAjG,EAAiG,KAAjG,EAAiG,CAAjG;IACoBA;IAAOA;IACvBA;IAAqBA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAT;IAA4B,CAA5B;IAA8BA;IAAgBA;IACnEA;IAAyBA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAT;IAA4B,CAA5B;IAA8BA;IAAMA;;;;;;IAHjBA;IAC5BA;IAAAA;IACmCA;IAAAA;;;;ADL3D,OAAM,MAAOC,cAAP,CAAqB;EAKzBC;IAJA,aAAgB,EAAhB;IAEA,iBAAoB,EAApB;EAEgB;;EAEVC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,KAAL,GAAa,OAAOL,KAAK,CAACM,GAAN,CAAU,wBAAV,EAAoC;QACtDC,OAAO,EAAE;UACP,eACE;QAFK;MAD6C,CAApC,CAAP,EAKTC,IALJ;IADY;EAOb;;EACDC,UAAU,CAACC,EAAD,EAAuB;IAC/B,MAAMC,IAAI,GAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBC,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYA,EAApC,CAAb;;IACA,IAAGC,IAAI,IAAIA,IAAI,CAACG,SAAL,IAAkB,IAA7B,EAAmC;MACjCH,IAAI,CAACG,SAAL,GAAiB,CAACH,IAAI,EAAEG,SAAxB;IACD;;IAEDd,KAAK,CAACe,GAAN,CAAW,yBAAyBL,EAAE,GAAtC,EAA2CC,IAA3C;EACD;;EACDK,UAAU,CAACN,EAAD,EAAuB;IAC/B,KAAKL,KAAL,GAAa,KAAKA,KAAL,CAAWY,MAAX,CAAkB,CAACN,IAAD,EAAOO,CAAP,KAAaP,IAAI,CAACD,EAAL,KAAYA,EAA3C,CAAb;IACAV,KAAK,CAACmB,MAAN,CAAa,kCAAkCT,EAA/C,EAAmD;MACjDH,OAAO,EAAE;QACP,eACE;MAFK;IADwC,CAAnD;EAMD;;EAEDa,OAAO;IACL,KAAKf,KAAL,CAAWgB,IAAX,CAAgB;MACdX,EAAE,EAAEY,SADU;MAEdC,KAAK,EAAE,KAAKC,SAFE;MAGdV,SAAS,EAAE;IAHG,CAAhB;IAKAd,KAAK,CAACyB,IAAN,CACE,8BADF,EAEE;MACEF,KAAK,EAAE,KAAKC,SADd;MAEEE,WAAW,EAAE,EAFf;MAGEC,IAAI,EAAE;IAHR,CAFF,EAOE;MACEpB,OAAO,EAAE;QACP,eACE;MAFK;IADX,CAPF;IAcA,KAAKiB,SAAL,GAAiB,EAAjB;EACD;;AAtDwB;;;mBAAdtB;AAAc;;;QAAdA;EAAc0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT3B/B,+BAAoB,CAApB,EAAoB,MAApB,EAAoB,CAApB;MACUA;QAAA,OAAYgC,aAAZ;MAAqB,CAArB;MACFhC;MAKAA;QAAA;MAAA;MALAA;MAOAA;MACJA;MAEAA;MAKJA;;;;MAVQA;MAAAA;MAKmBA;MAAAA","names":["axios","i0","TodosComponent","constructor","ngOnInit","todos","get","headers","data","toggleDone","id","todo","find","item","Completed","put","deleteTodo","filter","i","delete","addTodo","push","undefined","Title","inputTodo","post","Description","Date","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/charles/Desktop/todo-list/Front/src/app/components/todos/todos.component.ts","/home/charles/Desktop/todo-list/Front/src/app/components/todos/todos.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport axios from 'axios';\nimport { Todo } from '../../models/Todo';\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css'],\n})\nexport class TodosComponent implements OnInit {\n  todos: Todo[] = [];\n\n  inputTodo: string = '';\n\n  constructor() {}\n\n  async ngOnInit() {\n    this.todos = (await axios.get('http://localhost:8000/', {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    })).data;\n  }\n  toggleDone(id: Number | undefined) {\n    const todo = this.todos.find(item => item.id === id);\n    if(todo && todo.Completed != null) {\n      todo.Completed = !todo?.Completed\n    }\n    \n    axios.put (`http://localhost:8000/${id}/`, todo)\n  }\n  deleteTodo(id: Number | undefined) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false,\n    });\n    axios.post(\n      'http://localhost:8000/create',\n      {\n        Title: this.inputTodo,\n        Description: '',\n        Date: '2000-01-01',\n      },\n      {\n        headers: {\n          'X-CSRFTOKEN':\n            '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n        },\n      }\n    );\n    this.inputTodo = '';\n  }\n}\n","<div class =\"todos\">\n    <form (submit) = \"addTodo()\">\n        <input\n        type=\"text\"\n        name=\" inputTodo\"\n        placeholder=\" - Enter todo...\"\n        class=\"todo-input\"\n        [(ngModel)]=\"inputTodo\"\n        />\n        <input type=\" submit\" value=\" Add Todo\" class=\" todo-submit\">\n    </form>\n\n    <div  *ngFor=\"let todo of todos; let i = index;\"class = \"todo {{(todo.Completed ?'done': '') }}\">\n        <div class=\"id\">{{ i }}</div>\n        <div class=\"content\" (click)=\"toggleDone(todo.id)\">{{ todo.Title }}</div>\n        <button class = \"delete\" (click)=\"deleteTodo(todo.id)\">Remove</button>\n    </div>\n</div>\n\n"]},"metadata":{},"sourceType":"module"}