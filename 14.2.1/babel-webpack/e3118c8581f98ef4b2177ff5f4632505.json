{"ast":null,"code":"import _asyncToGenerator from \"/home/charles/Desktop/todo-list/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport axios from 'axios';\nlet TodosComponent = class TodosComponent {\n  constructor() {\n    this.todos = [];\n    this.inputTodo = '';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.todos = (yield axios.get('http://localhost:8000/', {\n        headers: {\n          'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n        }\n      })).data;\n    })();\n  }\n\n  toggleDone(id) {\n    this.todos.map((v, i) => {\n      if (i == id) v.Completed = !v.Completed;\n      return v;\n    });\n    const todo = this.todos.find(item => item.id === id);\n    axios.put(`http://localhost:8000/${id}/`, { ...todo,\n      Completed: !todo?.Completed\n    });\n  }\n\n  deleteTodo(id) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false\n    });\n    axios.post('http://localhost:8000/create', {\n      Title: this.inputTodo,\n      Description: '',\n      Date: '2000-01-01'\n    }, {\n      headers: {\n        'X-CSRFTOKEN': '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA'\n      }\n    });\n    this.inputTodo = '';\n  }\n\n};\nTodosComponent = __decorate([Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css']\n})], TodosComponent);\nexport { TodosComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAQA,IAAaC,cAAc,GAA3B,MAAaA,cAAb,CAA2B;EAKzBC;IAJA,aAAgB,EAAhB;IAEA,iBAAoB,EAApB;EAEgB;;EAEVC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,KAAL,GAAa,OAAOJ,KAAK,CAACK,GAAN,CAAU,wBAAV,EAAoC;QACtDC,OAAO,EAAE;UACP,eACE;QAFK;MAD6C,CAApC,CAAP,EAKTC,IALJ;IADY;EAOb;;EACDC,UAAU,CAACC,EAAD,EAAW;IACnB,KAAKL,KAAL,CAAWM,GAAX,CAAe,CAACC,CAAD,EAAIC,CAAJ,KAAS;MACtB,IAAIA,CAAC,IAAIH,EAAT,EAAaE,CAAC,CAACE,SAAF,GAAc,CAACF,CAAC,CAACE,SAAjB;MACb,OAAOF,CAAP;IACD,CAHD;IAIA,MAAMG,IAAI,GAAG,KAAKV,KAAL,CAAWW,IAAX,CAAgBC,IAAI,IAAIA,IAAI,CAACP,EAAL,KAAYA,EAApC,CAAb;IACAT,KAAK,CAACiB,GAAN,CAAW,yBAAyBR,EAAE,GAAtC,EAA2C,EACzC,GAAGK,IADsC;MAEzCD,SAAS,EAAE,CAACC,IAAI,EAAED;IAFuB,CAA3C;EAID;;EACDK,UAAU,CAACT,EAAD,EAAuB;IAC/B,KAAKL,KAAL,GAAa,KAAKA,KAAL,CAAWe,MAAX,CAAkB,CAACL,IAAD,EAAOF,CAAP,KAAaE,IAAI,CAACL,EAAL,KAAYA,EAA3C,CAAb;IACAT,KAAK,CAACoB,MAAN,CAAa,kCAAkCX,EAA/C,EAAmD;MACjDH,OAAO,EAAE;QACP,eACE;MAFK;IADwC,CAAnD;EAMD;;EAEDe,OAAO;IACL,KAAKjB,KAAL,CAAWkB,IAAX,CAAgB;MACdb,EAAE,EAAEc,SADU;MAEdC,KAAK,EAAE,KAAKC,SAFE;MAGdZ,SAAS,EAAE;IAHG,CAAhB;IAKAb,KAAK,CAAC0B,IAAN,CACE,8BADF,EAEE;MACEF,KAAK,EAAE,KAAKC,SADd;MAEEE,WAAW,EAAE,EAFf;MAGEC,IAAI,EAAE;IAHR,CAFF,EAOE;MACEtB,OAAO,EAAE;QACP,eACE;MAFK;IADX,CAPF;IAcA,KAAKmB,SAAL,GAAiB,EAAjB;EACD;;AAzDwB,CAA3B;AAAaxB,cAAc,eAL1BF,SAAS,CAAC;EACT8B,QAAQ,EAAE,WADD;EAETC,WAAW,EAAE,wBAFJ;EAGTC,SAAS,EAAE,CAAC,uBAAD;AAHF,CAAD,CAKiB,GAAd9B,cAAc,CAAd;SAAAA","names":["Component","axios","TodosComponent","constructor","ngOnInit","todos","get","headers","data","toggleDone","id","map","v","i","Completed","todo","find","item","put","deleteTodo","filter","delete","addTodo","push","undefined","Title","inputTodo","post","Description","Date","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/charles/Desktop/todo-list/Front/src/app/components/todos/todos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport axios from 'axios';\nimport { Todo } from '../../models/Todo';\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css'],\n})\nexport class TodosComponent implements OnInit {\n  todos: Todo[] = [];\n\n  inputTodo: string = '';\n\n  constructor() {}\n\n  async ngOnInit() {\n    this.todos = (await axios.get('http://localhost:8000/', {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    })).data;\n  }\n  toggleDone(id: number) {\n    this.todos.map((v, i) => {\n      if (i == id) v.Completed = !v.Completed;\n      return v;\n    });\n    const todo = this.todos.find(item => item.id === id);\n    axios.put (`http://localhost:8000/${id}/`, {\n      ...todo,\n      Completed: !todo?.Completed,\n    })\n  }\n  deleteTodo(id: Number | undefined) {\n    this.todos = this.todos.filter((todo, i) => todo.id !== id);\n    axios.delete('http://localhost:8000/delete/' + id, {\n      headers: {\n        'X-CSRFTOKEN':\n          '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n      },\n    });\n  }\n\n  addTodo() {\n    this.todos.push({\n      id: undefined,\n      Title: this.inputTodo,\n      Completed: false,\n    });\n    axios.post(\n      'http://localhost:8000/create',\n      {\n        Title: this.inputTodo,\n        Description: '',\n        Date: '2000-01-01',\n      },\n      {\n        headers: {\n          'X-CSRFTOKEN':\n            '3zf2mziv3lrY1zjcCpcV55KZLQGUUJliYdcCY646oqnBxGSkXhFAQcw3znZhT6tA',\n        },\n      }\n    );\n    this.inputTodo = '';\n  }\n}\n"]},"metadata":{},"sourceType":"module"}